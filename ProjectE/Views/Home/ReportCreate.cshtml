@model ProjectE.Models.ViewModels.ReportVM

@{
    ViewBag.Title = "ReportCreate";
}

<h2>ReportCreate</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.worksheet.WorkSheetId)
    <div class="col-xs-12">
        <h4><u>1. Dane znamionowe testowanego układu.</u></h4>
        <div class="col-xs-12 row">
            <div class="col-xs-6" style="border: thin solid black">
                <h3>Urządzenie</h3>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.Installation.ShortcutName, "Nazwa urządzenia", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.Installation.ShortcutName)-@Html.DisplayFor(model => model.worksheet.Device.ShortcutName)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.DeviceModel.Name, "Model", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.DeviceModel.Name)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.DeviceModel.Manufacturer.Name, "Producent", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.DeviceModel.Manufacturer.Name)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.ProductionYear, "Rok produkcji", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.ProductionYear)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.OperatingMode.Name, "Tryb pracy", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.OperatingMode.Name)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.Load.Name, "Rodzaj odbioru", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.Load.Name)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.SerialNumber, "Numer seryjny", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.SerialNumber)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.PrimarySupply, "Zasilanie podstawowe", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.PrimarySupply)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.SecondarySupply, "Zasilanie rezerwowe", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.SecondarySupply)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.LastReviewDate, "Data ostatniego przeglądu", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.LastReviewDate)
                </div>
            </div>
            <div class="col-xs-6" style="border: thin solid black">
                <h3>Bateria</h3>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.Installation.ShortcutName, "Nazwa baterii", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.Installation.ShortcutName)-@Html.DisplayFor(model => model.worksheet.Device.BatteryPack.ShortcutName)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.TechnologicalName, "Nazwa technologiczna", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.TechnologicalName)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.Battery.BatterySpecies.Species, "Typ akumulatora", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.Battery.BatterySpecies.Species)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.Battery.BatteryType, "Model akumulatora", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.Battery.BatteryType)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.StringNumber, "Liczba stringów", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.StringNumber)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.Battery.Capacity, "Pojemność akumulatora", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.Battery.Capacity)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.Battery.CellQuantity, "Liczba cel akumulatora", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.Battery.CellQuantity)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.MonoblockNumber, "Liczba monobloków", htmlAttributes: new { @class = "control-label col-md-5" })
                    <text id="monoblocks">@Html.DisplayFor(model => model.worksheet.Device.BatteryPack.MonoblockNumber)</text>
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.Battery.Capacity, "Pojemność", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.Battery.Capacity)
                </div>
                <div class="row">
                    @Html.LabelFor(model => model.worksheet.Device.BatteryPack.LastReviewDate, "Data ostatniego przeglądu", htmlAttributes: new { @class = "control-label col-md-5" })
                    @Html.DisplayFor(model => model.worksheet.Device.BatteryPack.LastReviewDate)
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-12">
        <h4><u>2. Powód pracy.</u></h4>
        <div class="col-xs-12 row">
            <div class="col-xs-12" align="center">
                <div class="row">
                    @Html.DropDownListFor(m => m.workreason, Model.workreason, new { @class = "form-control" })
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-12">
        <h4><u>2. Test pojemności baterii akumulatorów.</u></h4>
        <div class="col-xs-12 row">
            <div class="col-xs-12">
                Zmierzone napięcie buforowe Ub = <input />
                <table border="1">
                    <tr align="center">
                        <th align="center">Godzina/Monoblok</th>
                        <th align="center"><input type="time" value="09:15" max="24:00"/></th>
                        <th align="center"><input type="time" value="10:00" max="24:00"/></th>
                        <th align="center"><input type="time" value="11:00" max="24:00"/></th>
                        <th align="center"><input type="time" value="12:00" max="24:00"/></th>
                    </tr>
                    @{ 
                        var numberMonoblocks = Html.DisplayFor(model => model.worksheet.Device.BatteryPack.MonoblockNumber).ToString();
                        var myvalue = Int32.Parse(numberMonoblocks);
                    }
                    @for (var i = 1; i <= myvalue; i++)
                    {
                        <tr align="center">
                            <td align="center">@i</td>
                            <td align="center"><input type="number" step=".01" min="0"/></td>
                            <td align="center"><input type="number" step=".01" min="0" /></td>
                            <td align="center"><input type="number" step=".01" min="0" /></td>
                            <td align="center"><input type="number" step=".01" min="0" /></td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>

}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}